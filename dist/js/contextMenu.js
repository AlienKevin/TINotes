!function(){"use strict";function e(e,t){var n=e.srcElement||e.target;if(n.classList.contains(t))return n;for(;n=n.parentNode;)if(n.classList&&n.classList.contains(t))return n;return!1}var t,n,o,c,i,a,l,s,r="context-menu__item",u="context-menu__link",m="context-menu--active",d="item",f=document.querySelector("#context-menu"),p=(f.querySelectorAll(".context-menu__item"),0);function g(){0!==p&&(p=0,f.classList.remove(m))}document.addEventListener("contextmenu",function(u){(t=e(u,d))?(u.preventDefault(),Array.from(document.getElementsByClassName(r)).forEach(e=>{const t=u.target;switch(e.getAttribute("data-action")){case"delete":e.onclick=(()=>{deleteItem(t)});break;case"rename":e.onclick=(()=>{renameItem(t)});break;case"pinToHome":e.onclick=(()=>{pinToHome(t)})}}),1!==p&&(p=1,f.classList.add(m)),n=function(e){var t=0,n=0;return e||(e=window.event),e.pageX||e.pageY?(t=e.pageX,n=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:t,y:n}}(u),o=n.x,c=n.y,i=f.offsetWidth+4,a=f.offsetHeight+4,l=document.documentElement.offsetWidth,s=document.documentElement.offsetHeight,f.style.left=l-o<i?l-i+"px":o+"px",f.style.top=s-c<a?s-a+"px":c+"px"):(t=null,g())}),document.addEventListener("click",function(n){var o,c=e(n,u);if(c)n.preventDefault(),o=c,console.log("Task ID - "+t.getAttribute("data-id")+", Task action - "+o.getAttribute("data-action")),g();else{var i=n.which||n.button;1===i&&g()}}),window.onkeyup=function(e){27===e.keyCode&&g()},window.onresize=function(e){g()}}();