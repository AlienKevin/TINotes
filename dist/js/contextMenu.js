!function(){"use strict";function e(e,t){var n=e.srcElement||e.target;if(n.classList.contains(t))return n;for(;n=n.parentNode;)if(n.classList&&n.classList.contains(t))return n;return!1}var t,n,o,c,i,l,a,s,r="context-menu__item",u="context-menu__link",m="context-menu--active",d="item",f=document.querySelector("#context-menu"),g=(f.querySelectorAll(".context-menu__item"),0);function p(){0!==g&&(g=0,f.classList.remove(m))}document.addEventListener("contextmenu",function(u){if(t=e(u,d)){u.preventDefault();let e=u.target;Array.from(document.getElementsByClassName(r)).forEach(t=>{switch(t.getAttribute("data-action")){case"delete":t.onclick=(()=>{deleteItem(e)});break;case"rename":t.onclick=(()=>{renameItem(e)});break;case"pinToHome":t.onclick=(()=>{pinToHome(e)})}}),e=e,1!==g&&(console.log("toggling on context menu..."),restrictContextItems(e),g=1,f.classList.add(m)),n=function(e){var t=0,n=0;return e||(e=window.event),e.pageX||e.pageY?(t=e.pageX,n=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:t,y:n}}(u),o=n.x,c=n.y,i=f.offsetWidth+4,l=f.offsetHeight+4,a=document.documentElement.offsetWidth,s=document.documentElement.offsetHeight,f.style.left=a-o<i?a-i+"px":o+"px",f.style.top=s-c<l?s-l+"px":c+"px"}else t=null,p();var x}),document.addEventListener("click",function(n){var o,c=e(n,u);if(c)n.preventDefault(),o=c,console.log("Task ID - "+t.getAttribute("data-id")+", Task action - "+o.getAttribute("data-action")),p();else{var i=n.which||n.button;1===i&&p()}}),window.onkeyup=function(e){27===e.keyCode&&p()},window.onresize=function(e){p()}}();
//# sourceMappingURL=../../maps/js/contextMenu.js.map
